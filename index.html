<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Avustralyadan Haberler – Avustralya Günlük Haber Özeti</title>
  <meta name="description" content="Avustralya ekonomi, hükümet, emlak, göçmenlik, iş-işsizlik, sosyal hareketler ve Türkiye spor haberleri — günlük özet.">
  <style>
    :root{
      --bg:#0b5ba1; --ink:#111; --muted:#555; --card:#fff; --wash:#f7f8fa; --ring:#e6eef7
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
         background:var(--wash);color:var(--ink)}
    header{background:var(--bg);color:#fff;padding:22px 16px}
    header h1{margin:0;font-size:1.6rem}
    header p{margin:.4rem 0 0;opacity:.9}
    .wrap{max-width:1200px;margin:0 auto;padding:16px}
    /* 2 kolon: A (geniş) + B (yan) */
    .grid{
      display:grid; gap:16px;
      grid-template-columns: 2fr 1fr;
    }
    @media (max-width: 900px){
      .grid{grid-template-columns: 1fr}
    }
    .card{
      background:var(--card);border:1px solid var(--ring);
      border-radius:14px;padding:14px 14px 8px; box-shadow:0 2px 6px rgba(0,0,0,.04)
    }
    h2.section{margin:12px 0 10px;font-size:1.2rem;border-left:6px solid var(--bg);
               padding-left:10px}
    .item{display:grid;grid-template-columns:110px 1fr;gap:10px;align-items:start;margin:10px 0;padding:10px;border-radius:12px;background:#fff}
    .item img{width:110px;height:78px;object-fit:cover;border-radius:8px;border:1px solid var(--ring);background:#eee}
    .item h3{margin:0 0 6px;font-size:1.02rem}
    .item p{margin:0;color:var(--muted);line-height:1.35}
    .meta{font-size:.85rem;color:var(--muted);margin-top:6px}
    .pill{display:inline-block;font-size:.72rem;background:#eef6ff;color:#0b5ba1;
          padding:2px 8px;border-radius:999px;border:1px solid var(--ring);margin-right:6px}
    .flex{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
    .toolbar{display:flex;gap:8px;align-items:center;margin-top:10px}
    .btn{background:#fff;border:1px solid var(--ring);border-radius:10px;padding:8px 10px;cursor:pointer}
    .btn:hover{background:#f2f6fb}
    aside .card h3{margin:8px 0 10px}
    .thumb{display:grid;grid-template-columns:64px 1fr;gap:8px;margin:8px 0}
    .thumb img{width:64px;height:48px;object-fit:cover;border-radius:6px;border:1px solid var(--ring)}
    footer{color:var(--muted);text-align:center;padding:24px}
  </style>
</head>
<body>
  <header>
    <div class="wrap">
      <h1>Avustralyadan Haberler</h1>
      <p>Başlık: <strong>Avustralya Günlük Haber Özeti</strong></p>
      <div class="toolbar">
        <button class="btn" id="refreshBtn">Yenile</button>
        <span id="updatedAt" class="pill">Yükleniyor…</span>
      </div>
    </div>
  </header>

  <main class="wrap grid">
    <!-- A KOLONU (GENİŞ) -->
    <section id="colA">
      <div class="card">
        <h2 class="section">Avustralya Ekonomi Haberleri</h2>
        <div id="ekonomi"></div>
      </div>
      <div class="card">
        <h2 class="section">Avustralya Hükümet ve Devlet Haberleri</h2>
        <div id="hukumet"></div>
      </div>
      <div class="card">
        <h2 class="section">Avustralya Emlak Piyasa Haberleri</h2>
        <div id="emlak"></div>
      </div>
      <div class="card">
        <h2 class="section">Avustralya Göçmenlik Haberleri</h2>
        <div id="goc"></div>
      </div>
      <div class="card">
        <h2 class="section">Avustralya İş ve İşsizlik Haberleri</h2>
        <div id="istihdam"></div>
      </div>
    </section>

    <!-- B KOLONU (YAN) -->
    <aside id="colB">
      <div class="card">
        <h3>Günün Manşetleri</h3>
        <div id="mansetler"></div>
      </div>
      <div class="card">
        <h3>Türkiye Spor Haberleri</h3>
        <div id="spor"></div>
      </div>
      <div class="card">
        <h3>Avustralya’daki Yeni Gelişmeler</h3>
        <div id="gelismeler"></div>
      </div>
      <div class="card">
        <h3>Avustralya Sosyalist Hareketleri</h3>
        <div id="sosyalist"></div>
      </div>
    </aside>
  </main>

  <footer>Avustralyadan Haberler © 2025 · Mobil uyumlu ve reklamsız</footer>

  <script>
    const JSON_URL = 'data/news.json?ts=' + Date.now();

    function el(html){ const t=document.createElement('template'); t.innerHTML=html.trim(); return t.content.firstChild; }

    function itemView(n){
      const img = n.image || 'images/generated/' + (n.slug || 'placeholder') + '.png';
      const src = img;
      const h = `
        <article class="item">
          <img loading="lazy" src="${src}" alt="">
          <div>
            <h3><a href="${n.link}" target="_blank" rel="noopener">${n.title}</a></h3>
            <p>${n.summary || ''}</p>
            <div class="meta">
              <span class="pill">${n.source || ''}</span>
              <span>${n.published || ''}</span>
            </div>
          </div>
        </article>
      `;
      return el(h);
    }

    function renderList(targetId, arr){
      const box = document.getElementById(targetId);
      box.innerHTML = '';
      (arr || []).forEach(n => box.appendChild(itemView(n)));
      if(!arr || arr.length===0){
        box.appendChild(el('<p class="meta">Bu bölümde şimdilik haber yok.</p>'));
      }
    }

    async function load(){
      document.getElementById('updatedAt').textContent = 'Yükleniyor…';
      const res = await fetch(JSON_URL);
      const data = await res.json();

      // A kolon (geniş)
      renderList('ekonomi',   data.ekonomi);
      renderList('hukumet',   data.hukumet);
      renderList('emlak',     data.emlak);
      renderList('goc',       data.goc);
      renderList('istihdam',  data.istihdam);

      // B kolon (yan)
      renderList('spor',        data.spor);
      renderList('gelismeler',  data.gelismeler);
      renderList('sosyalist',   data.sosyalist);

      // Manşetler (ilk 6 haber, karışık havuz)
      const headlines = []
        .concat(data.ekonomi, data.hukumet, data.emlak, data.goc, data.istihdam, data.gelismeler, data.sosyalist, data.spor)
        .filter(Boolean)
        .slice(0, 6);
      const mRoot = document.getElementById('mansetler');
      mRoot.innerHTML = '';
      headlines.forEach(n=>{
        const h = `
          <div class="thumb">
            <img loading="lazy" src="${n.image || 'images/generated/' + (n.slug || 'placeholder') + '.png'}" alt="">
            <div>
              <a href="${n.link}" target="_blank" rel="noopener">${n.title}</a>
              <div class="meta">${n.source || ''}</div>
            </div>
          </div>`;
        mRoot.appendChild(el(h));
      });

      document.getElementById('updatedAt').textContent = 'Güncellendi: ' + (data.generated_at || '');
    }

    document.getElementById('refreshBtn').addEventListener('click', load);
    load();
  </script>
</body>
</html>
